
    const canvas = document.querySelector('canvas');
    /*nowe właściwości i metody do których odwałamy sie za pomocą obiektu ctx*/
    const ctx = canvas.getContext('2d');
    //ctx- zmienna(skrót)
    canvas.width = 1000; //szerokość canvas
    canvas.height = 500; // wysokość canvas

    const cw = canvas.width;    /*wysokosć i szerokość przypisujemy do zmiennych - będzie nam łatwiej się do nich odowływać*/
    const ch = canvas.height;

    const ballSize = 20; //wielkosć piłki
    let ballX = cw / 2 - ballSize / 2 ////pozycja początkowa piłki na osi x (długość) Potem będzie podlegała zmianie dlatego zmienna let a nie const
    let ballY = ch / 2 - ballSize / 2  ///pozycja początkowa piłki na osi y (wysokość)  Potem będzie podlegała zmianie dlatego zmienna let a nie const.

    const paddelHeight = 100; //wysokość rakietki gracza
    const paddelWidth = 20; //szerokość rakietki gracza

    const playerX = 70; //pozycja rakietki gracza na osi x (od prawej strony cavas 70px). Przy szerokości 20px rakietki bedzie ona rysowana od 70px do 90px od prawej strony
    const aiX = 910; //pozycja rakietki gracza na osi x (od lewej strony cavas 90px). Przy szerokości 20px rakietki bedzie ona rysowana od 910px do 930px od prawej strony (czyli od 70 do 90px licząć od lewej strony)

    let playerY = 200; //pozycja rakietki ai (komputer) na osi y. Będzie zmieniania. Tutaj wartość początkowa czyli zaczyna rysować 200px od góry
    let aiY = 200;

    const lineWidth = 6; //szerokosć lini na srodku boiska
    const lineHeight = 16; //wysokoć lini na srodku boiska

    let ballSpeedX = 9; //szybkość piłkix
    let ballSpeedY = 9;//szybkość piłkix


    function player() {
      ctx.fillStyle = 'red'; //kolor paletki 1
      ctx.fillRect(playerX, playerY, paddelWidth, paddelHeight);
    }


    function ai() {
      ctx.fillStyle = 'red'; // kolor paletki 2
      ctx.fillRect(aiX, aiY, paddelWidth, paddelHeight);
    }

    function ball() { //funkcja piłka

      ctx.fillStyle = 'white'; // kolor piłki
      ctx.fillRect(ballX, ballY, ballSize, ballSize);


      ballX += ballSpeedX;
      ballY += ballSpeedY;

      if (ballY <= 0 || ballY + ballSize >= ch ) { // Rozpoznajemy uderzenie w którąś z krawędzie góra dół.
        ballSpeedY = -ballSpeedY;
        speedUp();
      }

      if (ballX <=0 || ballX + ballSize >= cw) {
          ballSpeedX = -ballSpeedX;
          speedUp();
        }
        if (playerY <= ballY && playerY + paddelHeight >= ballY - ballSize && ballX <= playerX + paddelWidth && ballX >= playerX) {
        ballSpeedX = -ballSpeedX;
      }

      if (aiY <= ballY && playerY + paddelHeight >= ballY - ballSize && ballX <= aiX + paddelWidth && ballX >= aiX) {
        ballSpeedX = -ballSpeedX;
      }
    }



    function table() {

      ctx.fillStyle = 'black';//Metoda fillRect wymaga podania 4 argumentów. Pierwsze dwa to parametry startowe na osi x i y. drugie dwa to szerokość (oś x) i wysokosć (oś y). Lewy górny róg to parmetry (0,0) a szerokosć w tym wypadku ma 1000px (taką wartość ma zmienna cw) i wysokość 500 px (taką wartość ma zmienna ch)
      ctx.fillRect(0, 0, cw, ch);

      for (let linePosition = 20; linePosition < ch; linePosition += 30) {
        ctx.fillStyle = "white"
        ctx.fillRect(cw / 2 - lineWidth / 2, linePosition, lineWidth, lineHeight)
      }

    }

    topCanvas = canvas.offsetTop;

     function playerPosition(event) {
       playerY = event.clientY - topCanvas - paddelHeight / 2; //żeby była myszka na środku
      //gdy próbuje wyjachać rakietka na dole poza canvas
       if (playerY >= ch - paddelHeight) {
         playerY = ch - paddelHeight
       }
       if (playerY <= 0) {
         playerY = 0;
       }
       //aiY = playerY;
     }

     function speedUp() {            /// przypieszenie piłki
       //console.log(ballSpeedX + "," + ballSpeedY);
       if (ballSpeedX > 0 && ballSpeedX < 16){
            ballSpeedX += .4;
       }
        else  if (ballSpeedX> 0 && ballSpeedX > -16) {
             ballSpeedX -= 4;
        }
        if (ballSpeedY > 0 && ballSpeedY < 16){
             ballSpeedX += .3;
        }
         else  if (ballSpeedY > 0 && ballSpeedY > -16) {
              ballSpeedY -= .3;
         }
     }




     function aiPosition() { //Sztuczna inteligencja paletki 2
      const middlePaddel= aiY + paddelHeight / 2 ; // pozycja srodka palteki
      const middleBall = ballY + ballSize / 2;    // pozycja środka piłki

      // 2 połowa boiska
      if (ballX > 500) {

        if (middlePaddel - middleBall > 200) {

          aiY -= 24;

        } else if (middlePaddel - middleBall > 50) {
          aiY -= 10;
        }
        else if (middlePaddel - middleBall < -200) {
          aiY += 24;
        } else if (middlePaddel - middleBall < -50) {
          aiY += 10;
        }
       }

      if (ballX <= 500 && ballX > 100) {
        if (middlePaddel - middleBall > 100) {
          aiY -= 3;
        }
 if (middlePaddel - middleBall < -100) {
          aiY += 3;
        }
      }
      if (aiY >= ch - paddelHeight) {
        aiY = ch - paddelHeight
      }

      if (aiY <= 0) {
        aiY = 0;
      }
    }

    canvas.addEventListener("mousemove", playerPosition)

    function game() {
      table()
      ball()
      player()
      ai()
      aiPosition()
    }

    setInterval(game, 1000 / 60)
